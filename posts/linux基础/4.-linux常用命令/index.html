<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Linux常用命令 - https://www.wuennan.cn/posts/linux%E5%9F%BA%E7%A1%80/4.-linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">
    <meta name="author" content="Wuennan - https://www.wuennan.cn/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Linux常用命令</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://www.wuennan.cn/style.min.ab1affb864595dc8034de89700f09bcace7cadcc73a0e800a66ae137a366f17d.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            Linux常用命令
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2023-05-21&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2023-05-21&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            6472 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            13 分钟</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/linux%E5%9F%BA%E7%A1%80">Linux基础</a>
			
		</div>
		<div class="tag">
			
			
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div></div>
            <div><a href="https://www.wuennan.cn/posts/linux%E5%9F%BA%E7%A1%80/3.-linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#路径切换">路径切换</a></li>
    <li><a href="#文件操作">文件操作</a>
      <ul>
        <li><a href="#创建">创建</a></li>
        <li><a href="#移动及重命名">移动及重命名</a></li>
        <li><a href="#删除">删除</a></li>
        <li><a href="#复制">复制</a></li>
      </ul>
    </li>
    <li><a href="#查看与过滤">查看与过滤</a>
      <ul>
        <li><a href="#查看">查看</a></li>
        <li><a href="#查找">查找</a></li>
      </ul>
    </li>
    <li><a href="#下载与上传">下载与上传</a></li>
    <li><a href="#查看文件属性">查看文件属性</a></li>
    <li><a href="#软链接和硬链接">软链接和硬链接</a>
      <ul>
        <li><a href="#硬链接">硬链接</a></li>
        <li><a href="#软链接">软链接</a></li>
        <li><a href="#软链接应用场景">软链接应用场景</a></li>
        <li><a href="#软链接和硬链接的区别">软链接和硬链接的区别</a></li>
      </ul>
    </li>
    <li><a href="#文件或命令查找">文件或命令查找</a></li>
    <li><a href="#文件内容处理">文件内容处理</a></li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <p>本章节，我们将学习 <code>Linux</code> 系统中常用的命令。</p>
<h2 id="路径切换">路径切换</h2>
<p>比如: <code>/etc/hostname</code>，整个文件中包含文件名称以及文件所在的位置，我们将这个叫做路径，也就是说我们是通过路径对文件进行定位。</p>
<p><strong>绝对路径</strong>：只要是以/开始的命令都算绝对路径。例如：</p>
<pre tabindex="0"><code>[root@localhost ~]# ls /etc/sysconfig/network-scripts/ifcfg-ens32
</code></pre><p><strong>相对路径</strong>：相对于当前目录的路径。例如：</p>
<pre tabindex="0"><code>[root@localhost sysconfig]# cat network-scripts/ifcfg-ens32 
</code></pre><p>我们可以通过<code>cd</code> 命令切换目录。</p>
<p><code>cd</code>命令常用的参数如下:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>cd -</td>
<td>切换回上一次所在的目录。</td>
</tr>
<tr>
<td>cd ~</td>
<td>切换回当前用户的家目录,注意:root和普通用户是否有所不同。</td>
</tr>
<tr>
<td>cd .</td>
<td>代表当前目录，一般在拷贝、移动等情况下使用 cp /etc/hostname ./</td>
</tr>
<tr>
<td>cd ..</td>
<td>切换回当前目录的上级目录。</td>
</tr>
</tbody>
</table>
<p>例：</p>
<p>进入/etc/sysconfig/network-scripts/目录</p>
<pre tabindex="0"><code>[root@localhost ~]# cd /etc/sysconfig/network-scripts/
</code></pre><p>回到家目录</p>
<pre tabindex="0"><code>[root@localhost network-scripts]# cd
或
[root@localhost network-scripts]# cd ~
</code></pre><p>回到上次所在的目录</p>
<pre tabindex="0"><code>[root@localhost ~]# cd -
/etc/sysconfig/network-scripts
</code></pre><p>回到上级目录</p>
<pre tabindex="0"><code>[root@localhost ~]# cd ..
</code></pre><h2 id="文件操作">文件操作</h2>
<p>文件操作主要包括文件的创建、复制、移动、删除等</p>
<h3 id="创建">创建</h3>
<p><strong>mkdir常用参数及说明</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-p</td>
<td>递归创建目录</td>
</tr>
</tbody>
</table>
<p>创建一个名称为<code>haha</code>目录</p>
<pre tabindex="0"><code>[root@localhost ~]# mkdir haha
</code></pre><p>同时创建多个目录</p>
<pre tabindex="0"><code>[root@localhost ~]# mkdir hehe xixi lala
</code></pre><p>创建<code>dir-1</code>到<code>dir-50</code>的目录</p>
<pre tabindex="0"><code>[root@localhost ~]# mkdir dir-{1..50}
</code></pre><p>利用<code>{  }</code>灵活创建目录</p>
<pre tabindex="0"><code>[root@localhost ~]# mkdir -p /opt/{bin,logs,conf}/test 
[root@localhost ~]# tree /opt
/opt
├── bin
│   └── test
├── conf
│   └── test
└── logs
    └── test
</code></pre><p><strong>touch命令</strong>
创建一个名为<code>test.tx</code>t的文件</p>
<pre tabindex="0"><code>[root@localhost ~]# touch test.txt
</code></pre><h3 id="移动及重命名">移动及重命名</h3>
<p>在<code>Linux</code>中，移动文件和对文件重命名都是通过<code>mv</code>命令实现的。</p>
<p><strong>mv命令</strong></p>
<p>把<code>test.txt</code>移动到<code>dir-1</code>目录中</p>
<pre tabindex="0"><code>[root@localhost ~]# mv test.txt dir-1/
</code></pre><p>把<code>dir-1</code>中的<code>test.txt</code>移动到<code>dir-2</code>目录下，并重命名为<code>test2.txt</code>。</p>
<pre tabindex="0"><code>[root@localhost ~]# mv dir-1/test.txt dir-2/test2.txt
</code></pre><p>把<code>test2.txt</code>重命名为<code>test3.txt</code>。</p>
<pre tabindex="0"><code>[root@localhost dir-2]# mv test2.txt test3.txt
</code></pre><p>把<code>dir-1</code>、<code>dir-2</code> 和 <code>dir-3</code> 移动到 <code>dir-4</code> 中。</p>
<pre tabindex="0"><code>[root@localhost ~]# mv dir-1 dir-2 dir-3 dir-4
[root@localhost ~]# ll dir-4
total 0
drwxr-xr-x. 2 root root  6 Jul 26 17:03 dir-1
drwxr-xr-x. 2 root root 23 Jul 26 17:08 dir-2
drwxr-xr-x. 2 root root  6 Jul 26 16:54 dir-3
</code></pre><h3 id="删除">删除</h3>
<p>我们可以通过<code>rm</code>命令删除文件或者目录，<code>rm</code>命令常用的选项如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-f</td>
<td>强制删除，没有提示</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td>递归删除，删除目录时必须加r</td>
</tr>
</tbody>
</table>
<p>强制删除<code>test3.txt</code></p>
<pre tabindex="0"><code>[root@localhost dir-2]# rm -f test3.txt
</code></pre><p>删除目录</p>
<pre tabindex="0"><code># 不加-r选项，删除失败
[root@localhost dir-4]# rm  dir-1
rm: cannot remove ‘dir-1’: Is a directory

[root@localhost dir-4]# rm -r  dir-1
rm: remove directory ‘dir-1’? y
</code></pre><p>删除所有以<code>dir-</code>开头的目录</p>
<pre tabindex="0"><code>[root@localhost ~]# rm -rf dir-*
</code></pre><h3 id="复制">复制</h3>
<p>我们可以通过<code>cp</code>命令实现文件或目录的复制。</p>
<p><strong>cp命令</strong></p>
<p><code>cp</code>常用的选项如下表:</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-r</td>
<td>递归拷贝，拷贝目录时必须加r</td>
</tr>
<tr>
<td style="text-align:center">-p</td>
<td>保持文件原有的属性，不发生变化</td>
</tr>
<tr>
<td style="text-align:center">-v</td>
<td>显示拷贝详细信息</td>
</tr>
</tbody>
</table>
<p>把<code>file</code>拷贝到<code>/tmp</code>下，并重命名为<code>file_copy</code></p>
<pre tabindex="0"><code>[root@localhost ~]# cp file /tmp/file_copy
[root@localhost ~]# ll /tmp/
total 0
-rw-r--r--. 1 root root 0 Jul 29 10:34 file_copy
</code></pre><p><code>-p</code>参数用于保持在复制过程中，文件的原有属性不变</p>
<pre tabindex="0"><code>[root@localhost ~]# ll
total 0
# 文件权限为rw-r--r--
-rw-r--r--. 1 root root 0 Jul 29 10:36 file

# 更改文件的权限
[root@localhost ~]# chmod  777 file 

# 更改文件的所属关系
[root@localhost ~]# chown adm:adm file 
[root@localhost ~]# ll
total 0
# 修改后的文件属性
-rwxrwxrwx. 1 adm adm 0 Jul 29 10:36 file

# 将文件复制到/opt目录下
[root@localhost ~]# cp file /opt/
# 保持文件的原有属性不变，复制文件到/opt下，并重命名为file1
[root@localhost ~]# cp -p file /opt/file1
cp: overwrite ‘/opt/file1’? y
[root@localhost ~]# ll /opt
total 0
# 不加-p参数，复制过程中，文件属性发生了变化
-rwxr-xr-x. 1 root root 0 Jul 29 10:38 file
# 加上-p参数，复制过程中，文件的属性不发生改变
-rwxrwxrwx. 1 adm  adm  0 Jul 29 10:36 file1
</code></pre><p>把 <code>file</code>、<code>hello</code>和<code>/etc</code>复制到<code>/mnt</code>目录下</p>
<pre tabindex="0"><code>[root@localhost ~]# cp -rp file hello/ /etc/ /mnt/
</code></pre><p>若复制的文件已经存在时，系统会提示是否要覆盖。可以通过<code>\</code>和<code>/bin</code>的方式去强制复制。</p>
<pre tabindex="0"><code>[root@localhost ~]# \cp -r /etc/ /mnt/
# 因为cp alias中定义了-i参数，通过\可转义，使-i不生效。
[root@localhost ~]# ll /mnt/
total 12
drwxr-xr-x. 75 root root 8192 Jul 29 10:45 etc 
[root@localhost ~]# /bin/cp -r /etc/ /mnt/
#直接执行/bin/cp也可以使alias定义的别名不生效
[root@localhost ~]# ll /mnt/
total 12
drwxr-xr-x. 75 root root 8192 Jul 29 10:46 etc
</code></pre><blockquote>
<p>执行<code>alias</code>命令时，我们发现alias cp=&lsquo;cp -i&rsquo;,正是此原因导致的覆盖前的询问。</p>
</blockquote>
<p>我们也可以通过<code>{ }</code>去复制文件</p>
<p>将<code>test.txt</code>复制一份<code>test.txt.bak</code>，<code>-v</code>显示复制过程</p>
<pre tabindex="0"><code>[root@localhost ~]# cp {test.txt,test.txt.bak} -v
‘test.txt’ -&gt; ‘test.txt.bak’
</code></pre><p>将<code>ifcfg-ens32</code>复制一份，命名为<code>ifcfg-ens32.bak</code></p>
<pre tabindex="0"><code>[root@localhost ~]# cp /etc/sysconfig/network-scripts/{ifcfg-ens32,ifcfg-ens32.bak}
[root@localhost ~]# ls /etc/sysconfig/network-scripts/ifcfg-e*
/etc/sysconfig/network-scripts/ifcfg-ens32
/etc/sysconfig/network-scripts/ifcfg-ens32.bak
</code></pre><h2 id="查看与过滤">查看与过滤</h2>
<h3 id="查看">查看</h3>
<p>我们可以通过<code>cat</code>、<code>head</code>、<code>tail</code>等命令查看文件</p>
<p><strong>cat命令</strong></p>
<p>我们可以通过<code>cat</code>命令查看文件全部内容，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>查看文件时，显示行号</td>
</tr>
<tr>
<td style="text-align:center">-A</td>
<td>查看文件时，显示特殊字符</td>
</tr>
</tbody>
</table>
<p>查看<code>pass</code>文件内容</p>
<pre tabindex="0"><code>[root@localhost ~]# cat pass 
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
test17:x:1016:1016::/home/test17:/bin/bash
</code></pre><p>查看<code>pass</code>文件内容并显示行号</p>
<pre tabindex="0"><code>[root@localhost ~]# cat -n pass 
1	root:x:0:0:root:/root:/bin/bash
2	bin:x:1:1:bin:/bin:/sbin/nologin
3	daemon:x:2:2:daemon:/sbin:/sbin/nologin
4	test17:x:1016:1016::/home/test17:/bin/bash
</code></pre><p>查看<code>pass</code>文件内容并显示特殊字符</p>
<pre tabindex="0"><code>[root@localhost ~]# cat -A pass
# 行尾$表示换行
root:x:0:0:root:/root:/bin/bash$
bin:x:1:1:bin:/bin:/sbin/nologin$
daemon:x:2:2:daemon:/sbin:/sbin/nologin$
test17:x:1016:1016::/home/test17:/bin/bash$
</code></pre><p>用<code>cat</code>创建一个文件，并写入内容</p>
<pre tabindex="0"><code>[root@localhost ~]# cat &gt;&gt; test.txt &lt;&lt;EOF
&gt; TEST1
&gt; TEST2
&gt; TEST3
&gt; EOF
[root@localhost ~]# cat test.txt
TEST1
TEST2
TEST3
</code></pre><p><strong>head命令</strong></p>
<p><code>head</code>命令用于打印前<code>n</code>行，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>打印的行数</td>
</tr>
</tbody>
</table>
<p>使用<code>head</code>命令，不加任何参数，默认只打印前十行的内容。</p>
<p>打印pass前3行内容，等同于<code>head -n 3 pass</code></p>
<pre tabindex="0"><code>[root@localhost ~]# head -3 pass 
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
</code></pre><p><strong>tail命令</strong></p>
<p><code>tail</code>命令用于显示文本的末尾几行，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>打印的行数</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td>查看文件尾部新追加的内容</td>
</tr>
</tbody>
</table>
<p><code>tail</code>默认打印文本的末尾10行，若需指定打印行数，可以通过<code>-n</code>实现，如打印文件的后3行内容</p>
<pre tabindex="0"><code>[root@localhost ~]# tail -3 pass 
test99:x:1098:1098::/home/test99:/bin/bash
test100:x:1099:1099::/home/test100:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
</code></pre><p>使用<code>tail -f</code>可以查看文件尾部的变化</p>
<pre tabindex="0"><code>[root@localhost ~]# tail -f /var/log/secure
# 等同于 tailf /var/log/secure
Jul 29 14:05:54 localhost sshd[8613]: error: Received disconnect from 10.0.0.1 port 61962:0:
Jul 29 14:05:54 localhost sshd[8613]: Disconnected from 10.0.0.1 port 61962
Jul 29 14:05:54 localhost sshd[8613]: pam_unix(sshd:session): session closed for user root
</code></pre><h3 id="查找">查找</h3>
<p><strong>grep命令</strong></p>
<p>我们可以通过<code>grep</code>命令对文本进行过滤，常用的选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>显示行符</td>
</tr>
<tr>
<td style="text-align:center">-v</td>
<td>反转查找</td>
</tr>
<tr>
<td style="text-align:center">-i</td>
<td>不区分大小写过滤文件</td>
</tr>
<tr>
<td style="text-align:center">-E</td>
<td>多条件过滤</td>
</tr>
<tr>
<td style="text-align:center">-A</td>
<td>匹配后，再向下打印</td>
</tr>
<tr>
<td style="text-align:center">-B</td>
<td>匹配后，再向上打印</td>
</tr>
</tbody>
</table>
<p>过滤文中含有<code>root</code>的相关的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep &#34;root&#34; /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
</code></pre><p>过滤以<code>root</code>开头的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep &#34;^root&#34; /etc/passwd
root:x:0:0:root:/root:/bin/bash
</code></pre><p>过滤以<code>bash</code>结尾的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep &#34;bash$&#34; /etc/passwd
root:x:0:0:root:/root:/bin/bash
xiaoyu:x:1000:1000:xiaoyuw:/home/xiaoyuw:/bin/bash
</code></pre><p>过滤并显示行符</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -n &#34;bash&#34; /etc/passwd
1:root:x:0:0:root:/root:/bin/bash
19:xiaoyu:x:1000:1000:xiaoyuw:/home/xiaoyuw:/bin/bash
</code></pre><p>使用<code>grep</code>匹配后，再向下打印，如匹配到<code>root</code>后在向下打印两行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -n -A 2 &#34;root&#34; /etc/passwd
1:root:x:0:0:root:/root:/bin/bash
2-bin:x:1:1:bin:/bin:/sbin/nologin
3-daemon:x:2:2:daemon:/sbin:/sbin/nologin
--
10:operator:x:11:0:operator:/root:/sbin/nologin
11-games:x:12:100:games:/usr/games:/sbin/nologin
12-ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</code></pre><p>使用<code>grep</code>匹配后，再向上打印，如匹配到<code>root</code>后，再向上打印两行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -n -B 2 &#34;root&#34; /etc/passwd
1:root:x:0:0:root:/root:/bin/bash
--
8-halt:x:7:0:halt:/sbin:/sbin/halt
9-mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
10:operator:x:11:0:operator:/root:/sbin/nologin
</code></pre><p>使用<code>grep</code>匹配后，再向上和向下打印，如匹配到<code>root</code>后，再向上和向下各打印两行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -n -C 2 &#34;root&#34; /etc/passwd
1:root:x:0:0:root:/root:/bin/bash
2-bin:x:1:1:bin:/bin:/sbin/nologin
3-daemon:x:2:2:daemon:/sbin:/sbin/nologin
--
8-halt:x:7:0:halt:/sbin:/sbin/halt
9-mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
10:operator:x:11:0:operator:/root:/sbin/nologin
11-games:x:12:100:games:/usr/games:/sbin/nologin
12-ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</code></pre><p>筛选出不含<code>ftp</code>的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -v &#34;ftp&#34; /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
polkitd:x:999:998:User for polkitd:/:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
postfix:x:89:89::/var/spool/postfix:/sbin/nologin
xiaoyu:x:1000:1000:xiaoyuw:/home/xiaoyuw:/bin/bash
</code></pre><p>不区分大小写过滤出含<code>ftp</code>的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -i &#34;ftp&#34; /etc/passwd
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</code></pre><p>不区分大小写的打印出以<code>sync</code>结尾或者包含<code>ftp</code>的行</p>
<pre tabindex="0"><code>[root@localhost ~]# grep -Ei &#34;sync$|ftp&#34; /etc/passwd
sync:x:5:0:sync:/sbin:/bin/sync
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</code></pre><p>过滤文件常用的符号</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>.</strong></td>
<td>表示所有</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td>反转查找</td>
</tr>
<tr>
<td style="text-align:center">.*</td>
<td>表示匹配所有</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td>表示以什么开头</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td>表示以什么结尾</td>
</tr>
<tr>
<td style="text-align:center">^$</td>
<td>表示空行</td>
</tr>
</tbody>
</table>
<h2 id="下载与上传">下载与上传</h2>
<p>我们可以通过<code>wget</code>命令和<code>curl</code>命令实现资源下载。</p>
<p><strong>wget命令</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-O</td>
<td>下载文件到指定目录</td>
</tr>
</tbody>
</table>
<p>用<code>wget</code>下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到当前目录</p>
<pre tabindex="0"><code>[root@localhost ~]# wget http://mirrors.aliyun.com/repo/Centos-7.repo
--2019-07-30 10:03:04--  http://mirrors.aliyun.com/repo/Centos-7.repo
Resolving mirrors.aliyun.com (mirrors.aliyun.com)... 39.156.4.172, 39.156.4.174, 39.156.4.176, ...
Connecting to mirrors.aliyun.com (mirrors.aliyun.com)|39.156.4.172|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2523 (2.5K) [application/octet-stream]
Saving to: ‘Centos-7.repo’

100%[=========================================&gt;] 2,523       --.-K/s   in 0s      

2019-07-30 10:03:04 (217 MB/s) - ‘Centos-7.repo’ saved [2523/2523]

[root@localhost ~]# ll
-rw-r--r--. 1 root root 2523 Jun 16  2018 Centos-7.repo
</code></pre><p>将下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到<code>/mnt</code>目录下，保持文件名称不变</p>
<pre tabindex="0"><code>[root@localhost ~]# wget -O /mnt/Centos-7.repo http://mirrors.aliyun.com/repo/Centos-7.repo
# 若想保持文件名称不变 ，在下载路径中要指定原名，否则不能下载成功
--2019-07-30 09:44:18--  http://mirrors.aliyun.com/repo/Centos-7.repo
Resolving mirrors.aliyun.com (mirrors.aliyun.com)... 111.32.169.243, 111.32.169.245, 111.32.169.248, ...
Connecting to mirrors.aliyun.com (mirrors.aliyun.com)|111.32.169.243|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2523 (2.5K) [application/octet-stream]
Saving to: ‘/mnt/Centos-7.repo’

100%[=========================================&gt;] 2,523       --.-K/s   in 0s      

2019-07-30 09:44:18 (250 MB/s) - ‘/mnt/Centos-7.repo’ saved [2523/2523]

[root@localhost ~]# ll /mnt/
total 4
-rw-r--r--. 1 root root 2523 Jun 16  2018 Centos-7.repo
</code></pre><p>将下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>到<code>/mnt</code>目录下，并重命名为<code>test.txt</code></p>
<pre tabindex="0"><code>[root@localhost ~]#  wget -O  /mnt/test.txt http://mirrors.aliyun.com/repo/Centos-7.repo
--2019-07-30 09:47:44--  http://mirrors.aliyun.com/repo/Centos-7.repo
Resolving mirrors.aliyun.com (mirrors.aliyun.com)... 111.32.169.245, 111.32.169.248, 111.32.169.249, ...
Connecting to mirrors.aliyun.com (mirrors.aliyun.com)|111.32.169.245|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2523 (2.5K) [application/octet-stream]
Saving to: ‘/mnt/test.txt’
100%[=========================================&gt;] 2,523       --.-K/s   in 0s      
2019-07-30 09:47:44 (207 MB/s) - ‘/mnt/test.txt’ saved [2523/2523]

[root@localhost ~]# ll /mnt
total 4
-rw-r--r--. 1 root root 2523 Jun 16  2018 test.txt
</code></pre><p><strong>curl命令</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-o</td>
<td>下载文件到指定目</td>
</tr>
</tbody>
</table>
<p>用<code>curl</code>查看<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>内容</p>
<pre tabindex="0"><code>[root@localhost ~]# curl http://mirrors.aliyun.com/repo/Centos-7.repo
[base]
name=CentOS-$releasever - Base - mirrors.aliyun.com
failovermethod=priority
baseurl=http://mirrors.aliyun.com/centos/$releasever/os/$basearch/
        http://mirrors.aliyuncs.com/centos/$releasever/os/$basearch/
        http://mirrors.cloud.aliyuncs.com/centos/$releasever/os/$basearch/
gpgcheck=1
gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
</code></pre><p>用<code>curl</code>下载<code>http://mirrors.aliyun.com/repo/Centos-7.repo</code>并保存到<code>/mnt</code>下，并重命名为<code>test.txt</code></p>
<pre tabindex="0"><code>[root@localhost ~]# curl -o /mnt/test.txt http://mirrors.aliyun.com/repo/Centos-7.repo
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  2523  100  2523    0     0  18920      0 --:--:-- --:--:-- --:--:-- 18969
[root@localhost ~]# ll /mnt/
total 4
-rw-r--r--. 1 root root 2523 Jul 30 09:58 test.txt
</code></pre><blockquote>
<p>通常情况下，下载文件使用wget命令，但是最小化安装系统默认不安装wget，可以使用curl下载。</p>
</blockquote>
<p><strong>rz sz命令</strong></p>
<p><code>rz</code>用于从本地电脑上传文件至<code>Linux</code>服务器上，直接将文件拖拽到<code>shell</code>窗口就行。</p>
<p><img src="https://images.wuennan.cn/8505400-6949c41a842c2774.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="rz上传文件">
<code>sz</code>用于从<code>Linux</code>服务器上下载文件至<code>Windows</code>上，其格式为<code>sz</code> + 文件名称
<img src="https://images.wuennan.cn/8505400-0e50c3449f2374b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="sz下载文件"></p>
<blockquote>
<p><strong>rz</strong>: 只能上传文件，不支持上传文件夹，不支持大于4G上传，不支持断点续传。</p>
<p><strong>sz</strong>: 只能下载文件（任意单个文件），不支持下载文件夹。</p>
</blockquote>
<h2 id="查看文件属性">查看文件属性</h2>
<p><strong>ls命令</strong></p>
<p>我们可通过<code>ls</code>命令查看文件属性。</p>
<pre tabindex="0"><code>[root@localhost ~]# ll -d /etc/hosts /tmp /bin/ls  /dev/sda /dev/tty1 /etc/grub2.cfg /dev/log-rwxr-xr-x.  1 root root 117680 Oct 31  2018 /bin/ls
# 权限   被链接次数 所属人  所属组  大小    创建时间  文件名
srw-rw-rw-.    1   root   root      0 Jul 31 08:21 /dev/log
brw-rw----.    1   root   disk   8, 0 Jul 31 08:21 /dev/sda
crw--w----.    1   root   tty    4, 1 Jul 31 08:23 /dev/tty1
lrwxrwxrwx.    1   root   root     22 Jul 24 23:32 /etc/grub2.cfg -&gt; ../boot/grub2/grub.cfg
-rw-r--r--.    1   root   root    158 Jun  7  2013 /etc/hosts
drwxrwxrwt.   12   root   root   4096 Jul 31 09:47 /tmp
</code></pre><p>第一列<code>srw-rw-rw-</code>首个字符详解</p>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-</td>
<td>文件。</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td>目录，类似于Windows的文件夹。</td>
</tr>
<tr>
<td style="text-align:center">l</td>
<td>链接文件。</td>
</tr>
<tr>
<td style="text-align:center">s</td>
<td>socket 本地 进程与进程的一种通信方式。</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td>block 块设备文件，例如光盘、硬盘、分区等。</td>
</tr>
<tr>
<td style="text-align:center">c</td>
<td>字符设备，用于提供用户的输入和输出。</td>
</tr>
</tbody>
</table>
<p><strong>file命令</strong></p>
<p>对于一些文件无法准确的区分类型，可以使用<code>file</code>命令查看
查看文件的类型</p>
<pre tabindex="0"><code>[root@localhost ~]# file 123.rar access.log anaconda-ks.cfg test.txt th.jpg 123.zip 
123.rar:         RAR archive data, v80, flags: Archive volume, Locked, Solid, Authenticated,
# RAR文件
access.log:      ASCII text, with very long lines
# text文件
anaconda-ks.cfg: ASCII text
# text文件
test.txt:        ASCII text
# text文件
th.jpg:          JPEG image data, JFIF standard 1.01
# JPEG文件
123.zip:         Zip archive data, at least v2.0 to extract
# Zip文件
</code></pre><h2 id="软链接和硬链接">软链接和硬链接</h2>
<p>在<code>Linux</code>的文件系统中，保存在磁盘分区中的文件，不管是什么类型，系统都会给它分配一个编号，这个编号被称为索引节点编号（Inode Index），它是该文件或者目录在<code>Linux</code>文件系统中的唯一标识。有了这个编号值，就可以查到该文件的详细内容。</p>
<p>同时，<code>Linux</code>系统还规定，可以允许多个文件名同时指向同一个索引节点（Inode），这就是硬链接。这样设计有一个好处就是，只要文件的索引节点还存在一个以上的链接，删除其中一个链接并不影响索引节点本身和其他的链接（也就是说该文件的实体并未删除），而只有当最后一个链接被删除后，且此时有新数据要存储到磁盘上，那么被删除的文件的数据块及目录的链接才会被释放，存储空间才会被新数据所覆盖。因此，该机制可以有效的防止误删操作。</p>
<p><strong>硬链接</strong>只能在同一类型的文件系统中进行链接，不能跨文件系统。同时它只能对文件进行链接，不能链接目录。</p>
<p><strong>软链接</strong>（也叫符号链接），类似于windows系统中的快捷方式，与硬链接不同，软链接就是一个普通文件，只是数据块内容有点特殊，文件用户数据块中存放的内容是另一文件的路径名的指向，通过这个方式可以快速定位到软连接所指向的源文件实体。</p>
<h3 id="硬链接">硬链接</h3>
<p>相当于给同一个文件，取了多个别名。</p>
<p>我们可以通过<code>ln</code>命令创建连接。</p>
<p>准备一个测试文件。</p>
<pre tabindex="0"><code>[root@localhost ~]# cat test.txt
wuennan
</code></pre><p>创建硬链接。</p>
<pre tabindex="0"><code>[root@localhost ~]# ln test.txt  test_hard.txt
</code></pre><p>查看文件，这两个文件就如同一个文件一样，<code>inode</code> 值相同，都指向同一个区块。</p>
<pre tabindex="0"><code>[root@localhost ~]# ll -i
100682319 -rw-r--r--. 2 root    root          8 5月  23 14:59 test_hard.txt
100682319 -rw-r--r--. 2 root    root          8 5月  23 14:59 test.txt
</code></pre><p>修改文件内容，两个文件均发生变化。</p>
<pre tabindex="0"><code>[root@localhost ~]# echo &#34;New line&#34; &gt;&gt; test_hard.txt
[root@localhost ~]# cat test.txt
wuennan
New line
</code></pre><p>删除源文件后，硬链接依然生效。</p>
<pre tabindex="0"><code>[root@localhost ~]# rm test.txt
[root@localhost ~]# cat test_hard.txt
wuennan
New line
</code></pre><h3 id="软链接">软链接</h3>
<p>相当于<code>Windows</code>中的快捷方式。通过<code>ln</code>命令和<code>-s</code>选项，可实现软链接的创建。</p>
<p>准备一个测试文件。</p>
<pre tabindex="0"><code>[root@localhost ~]# cat test.txt
wuennan
</code></pre><p>创建软链接。</p>
<pre tabindex="0"><code>[root@localhost ~]# ln -s test.txt test_soft.txt
</code></pre><p>查看文件，<code>inode</code> 值不同，指向不同的区块。</p>
<pre tabindex="0"><code>[root@localhost ~]# ll -i
100682318 lrwxrwxrwx. 1 root    root          8 5月  23 15:11 test_soft.txt -&gt; test.txt
100682319 -rw-r--r--. 1 root    root          8 5月  23 15:09 test.txt
</code></pre><p>修改文件内容，两个文件均发生变化。</p>
<pre tabindex="0"><code>[root@localhost ~]# echo &#34;New line&#34; &gt;&gt; test_soft.txt
[root@localhost ~]# cat test.txt
wuennan
New line
</code></pre><p>删除源文件后，软链接失效。</p>
<pre tabindex="0"><code>[root@localhost ~]# rm test.txt
[root@localhost ~]# cat test_soft.txt
cat: test_soft.txt: No such file or directory
</code></pre><h3 id="软链接应用场景">软链接应用场景</h3>
<ol>
<li>
<p>软件升级与回退。</p>
<p>下载并解压<code>node_exporter</code></p>
<pre tabindex="0"><code>[root@localhost opt]# wget https://github.com/prometheus/node_exporter/releases/download/v1.4.0/node_exporter-1.4.0.linux-amd64.tar.gz
[root@localhost opt]# tar xf node_exporter-1.4.0.linux-amd64.tar.gz
</code></pre><p>创建软链接</p>
<pre tabindex="0"><code>[root@localhost opt]# ln -s /opt/node_exporter-1.4.0.linux-amd64/node_exporter /usr/local/bin/node_exporter
[root@localhost opt]# ll /usr/local/bin/
lrwxrwxrwx. 1 root root      50 5月  23 15:32 node_exporter -&gt; /opt/node_exporter-1.4.0.linux-amd64/node_exporter
</code></pre><p>查看版本信息</p>
<pre tabindex="0"><code>[root@localhost opt]# node_exporter --version
node_exporter, version 1.4.0 (branch: HEAD, revision: 7da1321761b3b8dfc9e496e1a60e6a476fec6018)
  build user:       root@83d90983e89c
  build date:       20220926-12:32:56
  go version:       go1.19.1
  platform:         linux/amd64
</code></pre><p>升级<code>node_exporter</code></p>
<p>下载并解压新版本<code>node_exporter</code></p>
<pre tabindex="0"><code>[root@localhost opt]# wget https://github.com/prometheus/node_exporter/releases/download/v1.5.0/node_exporter-1.5.0.linux-amd64.tar.gz
[root@localhost opt]# tar xf node_exporter-1.5.0.linux-amd64.tar.gz
</code></pre><p>删除原软链接，并新建软链接，指向新版本的<code>node_exporter</code></p>
<pre tabindex="0"><code>[root@localhost opt]# rm -f /usr/local/bin/node_exporter &amp;&amp; ln -s /opt/node_exporter-1.5.0.linux-amd64/node_exporter /usr/local/bin/node_exporter
</code></pre><p>查看版本信息</p>
<pre tabindex="0"><code>[root@localhost opt]# node_exporter --version
node_exporter, version 1.5.0 (branch: HEAD, revision: 1b48970ffcf5630534fb00bb0687d73c66d1c959)
  build user:       root@6e7732a7b81b
  build date:       20221129-18:59:09
  go version:       go1.19.3
  platform:         linux/amd64
</code></pre><p>版本回退</p>
<pre tabindex="0"><code>[root@localhost opt]# rm -f /usr/local/bin/node_exporter &amp;&amp; ln -s /opt/node_exporter-1.4.0.linux-amd64/node_exporter /usr/local/bin/node_exporter
[root@localhost opt]# node_exporter --version
node_exporter, version 1.4.0 (branch: HEAD, revision: 7da1321761b3b8dfc9e496e1a60e6a476fec6018)
  build user:       root@83d90983e89c
  build date:       20220926-12:32:56
  go version:       go1.19.1
  platform:         linux/amd64
</code></pre></li>
<li>
<p>移动文件而不改变路径。</p>
</li>
</ol>
<h3 id="软链接和硬链接的区别">软链接和硬链接的区别</h3>
<ol>
<li><code>ln</code>命令创建硬链接，<code>ln -s</code>命令创建软链接。</li>
<li>目录不能创建硬链接，并且硬链接不可以跨越分区系统。</li>
<li>目录软链接特别常用，并且软链接支持跨越分区系统。</li>
<li>硬链接文件与源文件<code>inode</code>相同，软链接文件与源文件<code>inode</code>不同。</li>
<li>删除软连接文件，对源文件及硬链接文件无任何影响。</li>
<li>删除文件的硬链接文件，对源文件无任何影响。</li>
<li>删除链接文件的源文件，对硬链接无影响，会导致软链接失效。</li>
<li>删除源文件及起硬链接文件，整个文件会被真正的删除。</li>
</ol>
<h2 id="文件或命令查找">文件或命令查找</h2>
<p><strong>which命令</strong></p>
<p><code>which</code>可用于查看命令文件的绝对路径及别名</p>
<pre tabindex="0"><code>[root@localhost ~]# which ls
alias ls=&#39;ls --color=auto&#39;
	/usr/bin/ls
</code></pre><p><strong>whereis命令</strong></p>
<p><code>whereis</code>可用于查看命令的文件的绝对路径及帮助文档路径</p>
<pre tabindex="0"><code>[root@localhost ~]# whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz
</code></pre><p><strong>type命令</strong></p>
<p><code>type</code>可用于查看命令的类型、文件位置、别名等信息</p>
<pre tabindex="0"><code>[root@localhost ~]# type ls
ls is aliased to `ls --color=auto&#39;
[root@localhost ~]# type for
for is a shell keyword
[root@localhost ~]# type cd
cd is a shell builtin
</code></pre><h2 id="文件内容处理">文件内容处理</h2>
<p><strong>sort命令</strong></p>
<p><code>sort</code>常用于对文本截取、排序等。常用的选项及说明如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td>依照数值大小进行排序</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td>以相反的顺序显示</td>
</tr>
<tr>
<td style="text-align:center">-t</td>
<td>指定分隔符</td>
</tr>
<tr>
<td style="text-align:center">-k</td>
<td>指定要取的字符</td>
</tr>
</tbody>
</table>
<p>准备测试文件</p>
<pre tabindex="0"><code>[root@localhost ~]# cat file.txt 
b:3
c:2
a:4
e:5
d:1
f:11
</code></pre><p>将文件排序首列进行排序</p>
<pre tabindex="0"><code>[root@localhost ~]# sort file.txt 
a:4
b:3
c:2
d:1
e:5
f:11
</code></pre><p>将文本第二列数字按照大小进行排序</p>
<pre tabindex="0"><code>[root@localhost ~]# sort -t &#34;:&#34; -n -k2 file.txt 
# -t指定分隔符，-n以数字大小进行排序，-k指定要排序的列
d:1
c:2
b:3
a:4
e:5
f:11
</code></pre><p>准备测试文件</p>
<pre tabindex="0"><code>[root@localhost ~]# cat 1.txt 
10.0.3.1 00:0F:AF:81:19:1F
10.0.3.2 00:0F:AF:85:6C:25
10.0.3.3 00:0F:AF:85:70:42
10.0.2.20 00:0F:AF:85:55:DE
10.0.2.21 00:0F:AF:85:6C:09
10.0.2.22 00:0F:AF:85:5C:41
10.0.0.151 00:0F:AF:85:6C:F6
10.0.0.152 00:0F:AF:83:1F:65
10.0.0.153 00:0F:AF:85:70:03
10.0.1.10 00:30:15:A2:3B:B6
10.0.1.11 00:30:15:A3:23:B7
10.0.1.12 00:30:15:A2:3A:A1
10.0.1.1 00:0F:AF:81:19:1F
10.0.2.2 00:0F:AF:85:6C:25
10.0.3.3 00:0F:AF:85:70:42
10.0.2.20 00:0F:AF:85:55:DE
10.0.1.21 00:0F:AF:85:6C:09
10.0.2.22 00:0F:AF:85:5C:41
10.0.0.151 00:0F:AF:85:6C:F6
10.0.1.152 00:0F:AF:83:1F:65
10.0.0.153 00:0F:AF:85:70:03
10.0.3.10 00:30:15:A2:3B:B6
10.0.1.11 00:30:15:A3:23:B7
10.0.3.12 00:30:15:A2:3A:A1
</code></pre><p>对该文件输出内容进行排序(提示：通过第三列的第一个字符，以及第4列的所有字符进行排序)</p>
<pre tabindex="0"><code>[root@localhost ~]# sort -t &#34;.&#34; -n -k3.1,3.1 -k4.1,4.3 1.txt 
</code></pre><p><strong>uniq命令</strong></p>
<p><code>uniq</code>用于统计文本，常用选项如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-c</td>
<td>计算重复的行</td>
</tr>
</tbody>
</table>
<p>源文件</p>
<pre tabindex="0"><code>[root@localhost ~]# cat file.txt 
123
abc
123
abc
123
</code></pre><p>用<code>uniq</code>去重，并显示重复次数</p>
<pre tabindex="0"><code>[root@localhost ~]# sort file.txt | uniq -c
      3 123
      2 abc
</code></pre><blockquote>
<p>要想用uniq去重，必须先用sort将重复的内容排列到一起。</p>
</blockquote>
<p><strong>cut命令</strong></p>
<p><code>cut</code>用于截取文本</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-d</td>
<td>指定分隔符</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td>取第几列</td>
</tr>
</tbody>
</table>
<p>取用户名及QQ号</p>
<pre tabindex="0"><code>[root@localhost ~]# cat file.txt 
I am Jack MY QQ is 793499077
[root@localhost ~]# cut -d &#34; &#34; -f 3,7 file.txt  
Jack 793499077
</code></pre><blockquote>
<p>cut几乎很少用到，通常都使用awk，因为awk功能更全。</p>
</blockquote>
<p><strong>wc命令</strong></p>
<p><code>wc</code>用于统计文本行数</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-l</td>
<td>显示文件的行数</td>
</tr>
</tbody>
</table>
<p>统计<code>/etc/services</code>文件的行数</p>
<pre tabindex="0"><code>[root@localhost ~]# wc -l /etc/services 
11176 /etc/services
</code></pre><p><strong>awk命令</strong></p>
<p>用于截取文本</p>
<table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-F</td>
<td>指定分隔符</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>取出设备的ip地址。</p>
<pre tabindex="0"><code>[root@localhost ~]# ifconfig | grep broadcast | awk &#39;{print $2}&#39;
10.0.0.201
</code></pre></li>
<li>
<p>取出访问日志服务器的top10的IP地址。源文件部分内容如下：</p>
<pre tabindex="0"><code>[root@localhost ~]# tail -20 fj.xuliangwei.com.log 
122.71.240.181 - - [30/Jul/2019:11:21:12 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;14&#34;
122.71.240.181 - - [30/Jul/2019:11:21:45 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;3&#34;
122.71.240.181 - - [30/Jul/2019:11:22:10 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;2&#34;
122.71.240.181 - - [30/Jul/2019:11:22:32 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;2&#34;
122.71.240.181 - - [30/Jul/2019:11:22:39 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;2&#34;
122.71.240.181 - - [30/Jul/2019:11:23:18 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;curl/7.29.0&#34; &#34;-&#34; -&#34;4&#34;
122.71.240.181 - - [30/Jul/2019:11:23:20 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;3&#34;
122.71.240.181 - - [30/Jul/2019:11:23:57 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;4&#34;
122.71.240.181 - - [30/Jul/2019:11:23:59 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;4&#34;
122.71.240.181 - - [30/Jul/2019:11:24:09 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;3&#34;
122.71.240.181 - - [30/Jul/2019:11:24:16 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;4&#34;
61.129.6.227 - - [30/Jul/2019:11:25:17 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3; rv:11.0) like Gecko&#34; &#34;-&#34; -&#34;9&#34;
101.89.239.232 - - [30/Jul/2019:11:25:43 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.124 Safari/537.36&#34; &#34;-&#34; -&#34;8&#34;
58.247.204.63 - - [30/Jul/2019:11:25:43 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.104 Safari/537.36 Core/1.53.2141.400 QQBrowser/9.5.10219.400&#34; &#34;-&#34; -&#34;9&#34;
101.91.60.108 - - [30/Jul/2019:11:25:44 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&#34; &#34;-&#34; -&#34;10&#34;
122.71.240.181 - - [30/Jul/2019:11:25:47 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;11&#34;
122.71.240.181 - - [30/Jul/2019:11:26:21 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;curl/7.29.0&#34; &#34;-&#34; -&#34;4&#34;
122.71.240.181 - - [30/Jul/2019:11:28:37 +0800] &#34;GET /public/ip.txt HTTP/1.1&#34; 0.000 200 744 &#34;-&#34; &#34;Wget/1.14 (linux-gnu)&#34; &#34;-&#34; -&#34;6&#34;
42.236.10.117 - - [30/Jul/2019:12:03:05 +0800] &#34;GET /public/weixin.py HTTP/1.1&#34; 0.000 200 1350 &#34;-&#34; &#34;Mozilla/5.0 (Linux; U; Android 8.1.0; zh-CN; EML-AL00 Build/HUAWEIEML-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 baidu.sogo.uc.UCBrowser/11.9.4.974 UWS/2.13.1.48 Mobile Safari/537.36 AliApp(DingTalk/4.5.11) com.alibaba.android.rimet/10487439 Channel/227200 language/zh-CN&#34; &#34;-&#34; -&#34;2&#34;
42.236.10.106 - - [30/Jul/2019:12:03:11 +0800] &#34;GET /public/weixin.py HTTP/1.1&#34; 0.000 200 1350 &#34;http://www.baidu.com/&#34; &#34;Mozilla/5.0 (Linux; U; Android 8.1.0; zh-CN; EML-AL00 Build/HUAWEIEML-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 baidu.sogo.uc.UCBrowser/11.9.4.974 UWS/2.13.1.48 Mobile Safari/537.36 AliApp(DingTalk/4.5.11) com.alibaba.android.rimet/10487439 Channel/227200 language/zh-CN&#34; &#34;-&#34; -&#34;3&#34;
</code></pre><p>取出访问日志服务器的top10的IP地址。</p>
<pre tabindex="0"><code>[root@localhost ~]# awk &#39;{print $1}&#39; fj.xuliangwei.com.log | sort | uniq -c | sort -nr | head -10
# 通过awk取出带有IP地址的列，排序后统计，将统计的结果以倒叙的方式显示，用head控制，显示前10行
   4432 139.226.173.42
    483 139.226.172.150
    381 139.226.172.192
    193 122.71.240.181
    102 223.167.152.124
    100 61.153.150.107
     95 47.97.98.158
     83 45.195.91.193
     83 125.71.215.239
     79 114.87.94.145
</code></pre></li>
</ol>

    </div>

    

    

    
    
    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="" target="_blank">
        
        <span class="some">enter your icp or a interesting slogan...<span>
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
