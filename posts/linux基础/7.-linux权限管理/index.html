<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="LinxuåŸºç¡€æƒé™ - https://www.wuennan.cn/posts/linux%E5%9F%BA%E7%A1%80/7.-linux%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/">
    <meta name="author" content="Wuennan - https://www.wuennan.cn/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>LinxuåŸºç¡€æƒé™</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://www.wuennan.cn/style.min.ab1affb864595dc8034de89700f09bcace7cadcc73a0e800a66ae137a366f17d.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            LinxuåŸºç¡€æƒé™
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">ğŸ“œ</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2023-05-27&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2023-05-27&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            3736 å­—</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            8 åˆ†é’Ÿ</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/linux%E5%9F%BA%E7%A1%80">LinuxåŸºç¡€</a>
			
		</div>
		<div class="tag">
			
			
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://www.wuennan.cn/posts/linux%E5%9F%BA%E7%A1%80/8.-linux%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://www.wuennan.cn/posts/linux%E5%9F%BA%E7%A1%80/6.-%E7%94%A8%E6%88%B7%E4%B8%8E%E7%BB%84/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#åŸºç¡€æƒé™">åŸºç¡€æƒé™</a>
      <ul>
        <li><a href="#ç”¨æˆ·æƒé™">ç”¨æˆ·æƒé™</a></li>
        <li><a href="#æƒé™è®¾ç½®">æƒé™è®¾ç½®</a></li>
        <li><a href="#å±ä¸»å’Œå±ç»„">å±ä¸»å’Œå±ç»„</a></li>
      </ul>
    </li>
    <li><a href="#ç‰¹æ®Šæƒé™">ç‰¹æ®Šæƒé™</a>
      <ul>
        <li><a href="#ç‰¹æ®Šæƒé™-1">ç‰¹æ®Šæƒé™</a></li>
        <li><a href="#ç‰¹æ®Šå±æ€§">ç‰¹æ®Šå±æ€§</a></li>
        <li><a href="#æ©ç umask">æ©ç umask</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h2 id="åŸºç¡€æƒé™">åŸºç¡€æƒé™</h2>
<h3 id="ç”¨æˆ·æƒé™">ç”¨æˆ·æƒé™</h3>
<p>åœ¨<code>Linux</code>ç³»ç»Ÿä¸­ï¼Œé’ˆå¯¹æ–‡ä»¶å®šä¹‰äº†ä¸‰ç§èº«ä»½ï¼Œåˆ†åˆ«æ˜¯å±ä¸»(<code>owner</code>)ã€å±ç»„(<code>group</code>)ã€å…¶ä»–äºº(<code>others</code>)ï¼Œæ¯ä¸€ç§èº«ä»½åˆå¯¹åº”ä¸‰ç§æƒé™ï¼Œåˆ†åˆ«æ˜¯å¯è¯»(<code>readable</code>)ã€å¯å†™(<code>writable</code>)ã€å¯æ‰§è¡Œ(<code>excutable</code>)ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# ll
drwxrwxrwx. 2 root root       16 Aug  6 19:52 test
</code></pre><p><img src="https://images.wuennan.cn/8505400-eb1ea1bde46379b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¯¦ç»†æƒé™">
ç”¨æˆ·å¯¹æ–‡ä»¶èµ„æºï¼Œæœ‰ä¸‰ç§è§’è‰²<code>ugo</code>ï¼Œå½“ä¸€ä¸ªç”¨æˆ·è®¿é—®æ–‡ä»¶æµç¨‹å¦‚ä¸‹ã€‚</p>
<ol>
<li>åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä¸ºæ–‡ä»¶æ‰€æœ‰è€…ï¼Œå¦‚æœæ˜¯åˆ™æŒ‰æ‰€æœ‰è€…çš„æƒé™è¿›è¡Œè®¿é—®ã€‚</li>
<li>åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä¸ºæ–‡ä»¶æ‰€æœ‰ç»„æˆå‘˜ï¼Œå¦‚æœæ˜¯åˆ™æŒ‰ç»„çš„æƒé™è¿›è¡Œè®¿é—®ã€‚</li>
<li>å¦‚æœä¸æ˜¯æ‰€æœ‰è€…ï¼Œä¹Ÿä¸æ˜¯è¯¥æ–‡ä»¶æ‰€å±ç»„ï¼Œåˆ™æŒ‰åŒ¿åæƒé™è¿›è¡Œè®¿é—®ã€‚</li>
</ol>
<p><strong>æƒé™ä¸­rwxçš„å«ä¹‰</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">å­—æ¯</th>
<th style="text-align:center">å«ä¹‰</th>
<th style="text-align:center">å¯¹åº”æƒé™</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r(read)</td>
<td style="text-align:center">è¯»å–æƒé™</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">w(write)</td>
<td style="text-align:center">å†™å…¥æƒé™</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">x(execute)</td>
<td style="text-align:center">æ‰§è¡Œæƒé™</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">-(å ä½ç¬¦)</td>
<td style="text-align:center">æ²¡æœ‰æƒé™</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<h3 id="æƒé™è®¾ç½®">æƒé™è®¾ç½®</h3>
<p>æƒé™å¯ä»¥èµ‹äºæŸä¸ªç”¨æˆ·æˆ–ç»„èƒ½å¤Ÿä»¥ä½•ç§æ–¹å¼è®¿é—®æŸä¸ªæ–‡ä»¶ã€‚
åœ¨Linuxä¸­æƒé™å¯¹æ–‡ä»¶å’Œå¯¹ç›®å½•çš„å½±å“æ˜¯æœ‰ä¸åŒåŒºåˆ«çš„ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">æƒé™</th>
<th>å¯¹æ–‡ä»¶çš„å½±å“</th>
<th>å¯¹ç›®å½•çš„å½±å“</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">è¯»å–æƒé™(r)</td>
<td>å…·æœ‰è¯»å–æ–‡ä»¶å†…å®¹æƒé™</td>
<td>å…·æœ‰æµè§ˆç›®å½•åŠå­ç›®å½•çš„æƒé™</td>
</tr>
<tr>
<td style="text-align:center">å†™å…¥æƒé™(w)</td>
<td>å…·æœ‰æ–°å¢ã€ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒé™</td>
<td>å…·æœ‰å¢åŠ å’Œåˆ é™¤ç›®å½•å†…æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">æ‰§è¡Œæƒé™(x)</td>
<td>å…·æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™</td>
<td>å…·æœ‰è®¿é—®ç›®å½•çš„å†…å®¹(å–å†³äºç›®å½•ä¸­æ–‡ä»¶æƒé™)</td>
</tr>
</tbody>
</table>
<p><strong>æ–‡ä»¶æƒé™éªŒè¯</strong></p>
<p>å‡†å¤‡ä¸€ä¸ªæ™®é€šç”¨æˆ·å’Œä¸€ä¸ªæ–‡ä»¶ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>[root@localhost ~]# id ennan
uid=3003(ennan) gid=3003(ennan) groups=3003(ennan)
[root@localhost /]# ll filename 
-rw-r--r--. 1 root root 5 Aug  7 14:40 filename
[root@localhost /]# cat filename 
date
</code></pre><p><code>r</code> æƒé™ï¼š åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·ï¼Œå½“ç”¨æˆ·å¯¹æ–‡ä»¶åªæœ‰rçš„æƒé™æ—¶ï¼Œç”¨æˆ·ä»…èƒ½æŸ¥çœ‹æ–‡ä»¶ï¼Œæ— æ³•è¿›è¡Œæ›´å¤šçš„æ“ä½œã€‚
å¯ç”¨çš„å‘½ä»¤æœ‰ï¼š<code>cat</code>ã€<code>more</code>ã€<code>less</code>ã€<code>head</code>ã€<code>tail</code></p>
<pre tabindex="0"><code>[ennan@localhost  /]$  ll filename 
-rw-r--r--. 1 root root 5 Aug  7 14:40 filename
[ennan@localhost  /]$ cat filename 
date
</code></pre><p><code>w</code> æƒé™ï¼šå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†æ˜¯ä¸èƒ½æŸ¥çœ‹æˆ–è€…è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll filename 
-rw-r---w-. 1 root root 5 Aug  7 14:40 filename
[ennan@localhost  /]$ echo &#34;date&#34; &gt; filename 
[ennan@localhost  /]$ cat filename 
cat: filename: Permission denied
</code></pre><p><code>x</code> æƒé™ï¼šæ™®é€šç”¨æˆ·æ‰§è¡Œ<code>x</code>æƒé™æ—¶ï¼ŒåŒæ—¶éœ€è¦å…·æœ‰<code>r</code>æƒé™ï¼Œå¦åˆ™ä¸èƒ½æ‰§è¡ŒæˆåŠŸã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll filename 
-rw-r----x. 1 root root 5 Aug  7 15:04 filename
[ennan@localhost  /]$ ./filename 
bash: ./filename: Permission denied
</code></pre><p><code>rw</code> æƒé™ï¼šå¯å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™ï¼Œä½†æ˜¯ä¸èƒ½è¿›è¡Œæ‰§è¡Œã€å¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll filename 
-rw-r--rw-. 1 root root 5 Aug  7 15:04 filename
[ennan@localhost  /]$ vim filename 
[ennan@localhost  /]$ cat filename 
date
date
[ennan@localhost  /]$ ./filename
-bash: ./filename: Permission denied
[ennan@localhost  /]$ cp filename filename.bak
cp: cannot create regular file â€˜filename.bakâ€™: Permission denied
</code></pre><p><code>rx</code> æƒé™ï¼šå¯è¿›è¡ŒæŸ¥çœ‹å’Œæ‰§è¡Œæ“ä½œï¼Œä½†æ˜¯ä¸èƒ½ç¼–è¾‘ã€ç§»åŠ¨ã€åˆ é™¤ç­‰ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll filename 
-rw-r--r-x. 1 root root 10 Aug  7 15:17 filename
[ennan@localhost  /]$ cat filename 
date
[ennan@localhost  /]$ ./filename 
Wed Aug  7 15:33:07 CST 2019
[ennan@localhost  /]$ echo &#34;hello&#34; &gt; filename 
-bash: filename: Permission denied
[ennan@localhost  /]$ cp filename filename.bak
cp: cannot create regular file â€˜filename.bakâ€™: Permission denied
[ennan@localhost  /]$ rm -f filename 
rm: cannot remove â€˜filenameâ€™: Permission denied
</code></pre><p><code>rwx</code> æƒé™ï¼šèƒ½æŸ¥çœ‹ã€ç¼–è¾‘ã€æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯ä¸èƒ½å¯¹æ–‡ä»¶è¿›è¡Œåˆ é™¤ã€ç§»åŠ¨ã€å¤åˆ¶ç­‰æ“ä½œã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ cat filename 
date
[ennan@localhost  /]$ ./filename 
Wed Aug  7 15:40:08 CST 2019
[ennan@localhost  /]$ cp filename filename.bak
cp: cannot create regular file â€˜filename.bakâ€™: Permission denied
[ennan@localhost  /]$ rm -f filename 
rm: cannot remove â€˜filenameâ€™: Permission denied
</code></pre><p><strong>ç›®å½•æƒé™éªŒè¯</strong>
<code>r</code> æƒé™ï¼šå…·æœ‰æµè§ˆç›®å½•çš„æƒé™ï¼Œæ— æ³•è¿›å…¥ç›®å½•ã€‚ä½¿ç”¨<code>ls</code> æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šæŠ¥é”™ï¼Œä½†ä¼šæ˜¾ç¤ºæ–‡ä»¶åç§°ï¼Œå¦‚æœä½¿ç”¨ <code>ls -l</code> åªèƒ½çœ‹åˆ°æ–‡ä»¶åç§°ï¼Œå…¶ä»–çš„å…¨éƒ¨æ— æ³•æŸ¥çœ‹ã€‚</p>
<pre tabindex="0"><code>[root@localhost /]# ll -d test/
drwxr-xr--. 2 root root 18 Aug  7 15:54 test/
[root@localhost /]# ll /test/file 
-rw-r--r--. 1 root root 5 Aug  7 15:54 /test/file

[ennan@localhost  /]$ ls test/
ls: cannot access test/file: Permission denied
file
[ennan@localhost  /]$ ls -l test/
ls: cannot access test/file: Permission denied
total 0
-????????? ? ? ? ?            ? file
[ennan@localhost  /]$ cd /test/
-bash: cd: /test/: Permission denied
[ennan@localhost  /]$ rm -rf /test/
rm: cannot remove â€˜/test/fileâ€™: Permission denied
</code></pre><p><code>w</code> æƒé™ï¼šå•ç‹¬çš„wæƒé™ä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll -d /test/
drwxr-x-w-. 2 root root 18 Aug  7 15:54 /test/
[ennan@localhost  /]$ cd test/
-bash: cd: test/: Permission denied
[ennan@localhost  /]$ ls /test/
ls: cannot open directory /test/: Permission denied
</code></pre><p><code>x</code> æƒé™ï¼šå¯ä»¥è¿›å…¥ç›®å½•ï¼Œä¸èƒ½æ“ä½œå…¶ä»–ä¸œè¥¿ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll -d /test/
drwxr-x--x. 2 root root 18 Aug  7 15:54 /test/
[ennan@localhost  /]$ ll /test/
ls: cannot open directory /test/: Permission denied
[ennan@localhost  /]$ cd /test/
[ennan@localhost  test]$ ls
ls: cannot open directory .: Permission denied
</code></pre><p><code>rx</code> æƒé™ï¼šèƒ½è¿›å…¥ç›®å½•,èƒ½æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶,è‡³äºæ“ä½œæ–‡ä»¶,éœ€è¦çœ‹æ–‡ä»¶æœ¬èº«çš„æƒé™ã€‚ä¸èƒ½è¿›è¡Œæ–°å»ºæ–‡ä»¶ã€ç›®å½•ç­‰æ“ä½œã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  test]$ ll -d /test/
drwxr-xr-x. 2 root root 18 Aug  7 15:54 /test/
[ennan@localhost  test]$ cd /test/
[ennan@localhost  test]$ ll
total 4
-rw-r--r--. 1 root root 5 Aug  7 15:54 file
</code></pre><p><code>rw</code> æƒé™ï¼šå¥½åƒæœ‰ç‚¹é¸¡è‚‹ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll -d /test/
drwxr-xrw-. 2 root root 18 Aug  7 15:54 /test/
[ennan@localhost  /]$ cd test/
-bash: cd: test/: Permission denied
[ennan@localhost  /]$ ll /test/
ls: cannot access /test/file: Permission denied
total 0
-????????? ? ? ? ?            ? file
[ennan@localhost  /]$ mkfid /test/hello
-bash: mkfid: command not found
[ennan@localhost  /]$ mkdir /test/hello
mkdir: cannot create directory â€˜/test/helloâ€™: Permission denied
</code></pre><p><code>rwx</code> æƒé™ï¼šå¦‚æœç›®å½•èµ‹äºˆäº†wæƒé™,åˆ™è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥å¤åˆ¶ã€åˆ é™¤ã€ç§»åŠ¨ã€ä¿®æ”¹ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost  /]$ ll -d /test/
drwxr-xrwx. 2 root root 18 Aug  7 15:54 /test/
[ennan@localhost  /]$ cd test/
[ennan@localhost  test]$ ls
file
[ennan@localhost  test]$ cp file file.bak
[ennan@localhost  test]$ rm -f file.bak 
</code></pre><blockquote>
<p>æ–‡ä»¶æœ€å¤šä½¿ç”¨çš„æ˜¯rwæƒé™å’Œrxæƒé™ï¼ˆæ–‡ä»¶çš„æƒé™é€šå¸¸ä¼šè®¾ç½®ä¸º644ï¼‰
ç›®å½•æœ€å¤šä½¿ç”¨çš„æ˜¯rxæƒé™ï¼ˆç›®å½•çš„æƒé™é€šå¸¸ä¼šè®¾ç½®ä¸º755ï¼‰</p>
</blockquote>
<h3 id="å±ä¸»å’Œå±ç»„">å±ä¸»å’Œå±ç»„</h3>
<p><strong>chownå‘½ä»¤</strong></p>
<p><code>chown</code>å¯ç”¨äºæ›´æ”¹å±ä¸»åŠå±ç»„ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">é€‰é¡¹</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-R</td>
<td>é€’å½’ä¿®æ”¹</td>
</tr>
</tbody>
</table>
<p>ä¿®æ”¹<code>dir</code>çš„å±ä¸»ä¸º<code>ennan</code></p>
<pre tabindex="0"><code>[root@localhost ~]# ll
total 0
drwxr-xr-x. 3 root root 31 Aug  7 17:07 dir
[root@localhost ~]# chown ennan dir/
[root@localhost ~]# ll
total 0
drwxr-xr-x. 3 ennan root 31 Aug  7 17:07 dir
</code></pre><p>ä¿®æ”¹<code>dir</code>çš„å±ç»„ä¸º<code>adm</code></p>
<pre tabindex="0"><code>[root@localhost ~]# chown .adm dir/
[root@localhost ~]# ll -d dir/
drwxr-xr-x. 3 ennan adm 31 Aug  7 17:07 dir/
</code></pre><p>é€’å½’ä¿®æ”¹ç›®å½•åŠç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„ä¸º<code>ennan</code></p>
<pre tabindex="0"><code>[root@localhost ~]# chown -R ennan.ennan dir/
[root@localhost ~]# ll -d dir/
drwxr-xr-x. 3 ennan ennan 31 Aug  7 17:07 dir/
[root@localhost ~]# ll dir/
total 0
-rw-r--r--. 1 ennan ennan 0 Aug  7 17:07 file
drwxr-xr-x. 2 ennan ennan 6 Aug  7 17:07 test1
</code></pre><h2 id="ç‰¹æ®Šæƒé™">ç‰¹æ®Šæƒé™</h2>
<h3 id="ç‰¹æ®Šæƒé™-1">ç‰¹æ®Šæƒé™</h3>
<p><strong>SUID</strong>ï¼ˆset uidï¼‰</p>
<p>å½“æˆ‘ä»¬ä¸ºæŸä¸ªå‘½ä»¤è®¾å®šäº†<code>suid</code>ï¼Œæ— è®ºè°ä½¿ç”¨è¯¥å‘½ä»¤éƒ½ä¼šä½¿ç”¨è¯¥å‘½ä»¤çš„ &ldquo;å±ä¸»&rdquo; è¿è¡Œè¯¥å‘½ä»¤ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“åœ¨<code>Linux</code>ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·å¯ä»¥é€šè¿‡<code>passwd</code>å‘½ä»¤æ›´æ”¹è‡ªå·±çš„å¯†ç ã€‚å¯†ç å­˜æ”¾çš„ä½ç½®ä¸º<code>/etc/shadow</code>ã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹<code>/etc/shadow</code>çš„æƒé™ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# ll /etc/shadow
----------. 1 root root 1088 Aug  7 16:07 /etc/shadow
</code></pre><p>é€šè¿‡ä¸Šç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ä»»ä½•äººå¯¹<code>/etc/shawow</code>éƒ½æ˜¯æ²¡æœ‰ä»»ä½•æƒé™çš„ã€‚å½“ç„¶<code>root</code>é™¤å¤–ï¼Œå› ä¸º<code>root</code>åœ¨<code>Linux</code>ç³»ç»Ÿä¸­æœ‰ç€æœ€é«˜çš„æƒé™ã€‚</p>
<p>æˆ‘ä»¬æ˜¯é€šè¿‡<code>passwd</code>è¿™ä¸ªå‘½ä»¤æ¥ä¿®æ”¹å¯†ç çš„ï¼Œåœ¨<code>Linux</code>ä¸­ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹<code>passwd</code>è¿™ä¸ªå‘½ä»¤çš„æƒé™ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# ll /usr/bin/passwd 
-rwsr-xr-x. 1 root root 27832 Jun 10  2014 /usr/bin/passwd
</code></pre><p>æˆ‘ä»¬å‘ç°å±ä¸»çš„æƒé™ä¸­æœ‰ä¸ª<code>s</code>ï¼ˆè‹¥åŸå…ˆæƒé™ä¸ºä¸ºç©ºçš„è¯ï¼Œä¼šæ˜¾ç¤º<code>S</code>ï¼‰ï¼Œè¿™å°±æ˜¯<code>SUID</code>ï¼Œè¿™è¡¨ç¤ºå½“ä»»ä½•äººæƒ³è¦æ‰§è¡Œ<code>passwd</code>è¿™æ¡å‘½ä»¤æ—¶ï¼Œéƒ½ä¼šä»¥è¯¥å‘½ä»¤çš„å±ä¸»èº«ä»½è¿è¡Œè¯¥å‘½ä»¤ã€‚</p>
<p>ä½¿ç”¨æ™®é€šç”¨æˆ·<code>ennan</code>æ‰§è¡Œ<code>passwd</code>ä¿®æ”¹å¯†ç ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost ~]$ passwd 
Changing password for user ennan.
Changing password for ennan.
(current) UNIX password:
</code></pre><p>â€ƒæˆ‘ä»¬å‘ç°å…¶å®æ˜¯ä»¥rootçš„èº«ä»½åœ¨è¿è¡Œè¿™æ¡å‘½ä»¤ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# ps aux |grep passwd 
root       2251  0.0  0.0 170704  1992 pts/0    S+   18:19   0:00 passwd
</code></pre><p><code>SUID</code>çš„è®¾ç½®ä¸å–æ¶ˆ
å¯é€šè¿‡<code>chmod u+s filename</code> æˆ– <code>chmod 4XXX filename</code> å¯¹æ–‡ä»¶è®¾ç½®<code>SUID</code>æƒé™ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# ll /usr/bin/vim
-rwxr-xr-x. 1 root root 2294216 Jun 28 21:59 /usr/bin/vim
[root@localhost ~]# chmod 4755 /usr/bin/vim
[root@localhost ~]# ll /usr/bin/vim
-rwsr-xr-x. 1 root root 2294216 Jun 28 21:59 /usr/bin/vim
[root@localhost ~]# chmod u-s /usr/bin/vim
[root@localhost ~]# ll /usr/bin/vim
-rwxr-xr-x. 1 root root 2294216 Jun 28 21:59 /usr/bin/vim
</code></pre><blockquote>
<p>è¿›ç¨‹èƒ½å¤Ÿä»¥ä½•ç§å½¢å¼è®¿é—®æ–‡ä»¶ï¼Œå–å†³äºè¿è¡Œè¿™ä¸ªè¿›ç¨‹çš„ç”¨æˆ·å¯¹è¿™ä¸ªæ–‡ä»¶æœ‰æ²¡æœ‰ç›¸åº”çš„æƒé™ã€‚
æ¯”å¦‚ï¼špasswdè¦ä¿®æ”¹/etc/shadowï¼Œè¦çœ‹è¿è¡Œpasswdè¿™æ¡å‘½ä»¤çš„äººå¯¹/etc/shadowç”¨æ€ä¹ˆæ ·çš„æƒé™ã€‚</p>
</blockquote>
<p><strong>SGID</strong></p>
<p>å°†ç›®å½•è®¾ç½®ä¸º<code>sgid</code>æƒé™åï¼Œå¦‚æœåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ï¼Œéƒ½å°†ä¸è¯¥ç›®å½•çš„æ‰€å±ç»„ä¿æŒä¸€è‡´ã€‚</p>
<p>å¯é€šè¿‡<code>chmod 2XXX dirname</code> å¯¹æ–‡ä»¶è®¾ç½®<code>SGID</code>æƒé™ã€‚</p>
<pre tabindex="0"><code>[root@localhost /]# chmod 2777 /test/
[root@localhost /]# ll -d /test/
drwxrwsrwx. 2 root root 23 Aug  7 18:41 /test/
</code></pre><p>åˆ‡æ¢ç”¨æˆ·åœ¨<code>/testä¸­</code>åˆ›å»ºæ–‡ä»¶</p>
<pre tabindex="0"><code>[ennan@localhost test]$ touch ennan.txt
[ennan@localhost test]$ ll
total 0
-rw-rw-r--. 1 ennan root 0 Aug  7 18:42 ennan.txt
</code></pre><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°<code>ennan.txt</code>çš„å±ç»„å·²ç»å˜æˆäº†<code>root</code>ï¼Œå³/test/è¿™ä¸ªç›®å½•çš„å±ç»„ã€‚</p>
<p><strong>SBIT</strong></p>
<p><code>sbit</code>ä¹Ÿå«ç²˜æ»ä½ï¼Œå¦‚æœä¸€ä¸ªç›®å½•è®¾å®šäº†ç²˜æ»ä½ï¼Œé‚£ä¹ˆè°éƒ½å¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ã€‚æ–‡ä»¶å¯ç”±åˆ›å»ºè€…åˆ é™¤ã€‚ <code>root</code>ç”¨æˆ·å’Œç›®å½•çš„æ‰€å±ä¸»éƒ½èƒ½åˆ é™¤è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<p>å¯é€šè¿‡<code>chmod 1XXX dirname</code> å¯¹æ–‡ä»¶è®¾ç½®<code>SBIT</code>æƒé™ã€‚</p>
<p>ç»™<code>/test/</code>è®¾ç½®ç²˜æ»ä½ã€‚</p>
<pre tabindex="0"><code>[root@localhost /]# chmod 1777 /test/
[root@localhost /]# ll /test/ -d
drwxrwxrwt. 2 root root 23 Aug  7 18:42 /test/
</code></pre><p><code>ennan</code>åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ã€‚</p>
<pre tabindex="0"><code>[ennan@localhost test]$ touch ennan.txt
</code></pre><p><code>test</code>ç”¨æˆ·è™½ç„¶å¯¹ç›®å½•<code>/test/</code>æœ‰è¶³å¤Ÿçš„æƒé™ï¼Œä½†æ˜¯ä»ç„¶æ— æ³•åˆ é™¤<code>ennan.txt</code></p>
<pre tabindex="0"><code>[test@localhost test]$ rm ennan.txt -f
rm: cannot remove â€˜ennan.txtâ€™: Operation not permitted
</code></pre><p>å–æ¶ˆç²˜æ»ä½åï¼Œ<code>test</code>ç”¨æˆ·å¯ä»¥åˆ é™¤<code>ennan.txt</code></p>
<pre tabindex="0"><code>[root@localhost /]# chmod o-t /test/
[root@localhost /]# ll /test/ -d
drwxrwxrwx. 2 root root 23 Aug  7 18:48 /test/
[test@localhost test]$ rm ennan.txt -f
[test@localhost test]$ ll /test/
total 0
</code></pre><h3 id="ç‰¹æ®Šå±æ€§">ç‰¹æ®Šå±æ€§</h3>
<p><strong>chattr</strong></p>
<p>åªæœ‰<code>root</code> ç”¨æˆ·å¯ä»¥ä½¿ç”¨ï¼Œç”¨äºä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„æƒé™å±æ€§ï¼Œå»ºç«‹å‡Œé©¾äº<code>rwx</code>åŸºç¡€æƒé™ä¹‹ä¸Šçš„æˆæƒã€‚å¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">é€‰é¡¹</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+i</td>
<td>é”å®šæ–‡é—®ï¼Œä»»ä½•äººæ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚</td>
</tr>
<tr>
<td style="text-align:center">+a</td>
<td>æ— æ³•å†™å…¥å’Œåˆ é™¤æ–‡ä»¶ï¼Œå¯è¿½åŠ æ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
</tbody>
</table>
<p><strong>lsattr</strong></p>
<p>ç”¨äºæŸ¥çœ‹æ–‡ä»¶çš„ç‰¹æ®Šå±æ€§ã€‚</p>
<p>å½“æ–‡ä»¶è¢«<code>+i</code>åï¼ŒåŒ…æ‹¬<code>root</code>åœ¨å†…çš„æ‰€æœ‰ç”¨æˆ·æ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚</p>
<pre tabindex="0"><code>[root@localhost test]# touch ennan.txt
[root@localhost test]# lsattr ennan.txt 
---------------- ennan.txt
[root@localhost test]# chattr +i ennan.txt 
[root@localhost test]# lsattr ennan.txt 
----i----------- ennan.txt
[root@localhost test]# rm -f ennan.txt 
rm: cannot remove â€˜ennan.txtâ€™: Operation not permitted
[root@localhost test]# echo &#34;hello&#34; &gt; ennan.txt 
-bash: ennan.txt: Permission denied
</code></pre><p>è‹¥å¯¹<code>/etc/passwd</code>è®¾ç½®äº†<code>+i</code>é€‰é¡¹åï¼Œä»»ä½•äººæ— æ³•å¢åŠ æˆ–è€…åˆ é™¤ç”¨æˆ·ã€‚</p>
<pre tabindex="0"><code>[root@localhost test]# chattr +i /etc/passwd
[root@localhost test]# useradd yan
useradd: cannot open /etc/passwd
[root@localhost test]# userdel ennan
userdel: cannot open /etc/passwd
# å–æ¶ˆæ–‡ä»¶é”å®š
[root@localhost test]# chattr -i /etc/passwd
</code></pre><p>æ–‡ä»¶ä½¿ç”¨äº†<code>+a</code>é€‰é¡¹åï¼Œä»…å¯è¿½åŠ æ–‡ä»¶å†…å®¹ï¼Œä¸å¯è¿›è¡Œå…¶ä»–ä»»ä½•æ“ä½œã€‚</p>
<pre tabindex="0"><code>[root@localhost test]# chattr +a ennan.txt 
[root@localhost test]# lsattr ennan.txt 
-----a---------- ennan.txt
[root@localhost test]# rm ennan.txt -f
rm: cannot remove â€˜ennan.txtâ€™: Operation not permitted
[root@localhost test]# echo &#34;hello&#34; &gt;&gt; ennan.txt 
[root@localhost test]# echo &#34;My name&#34; &gt;&gt; ennan.txt 
[root@localhost test]# cat ennan.txt 
hello
My name
# å–æ¶ˆaé€‰é¡¹
[root@localhost test]# chattr -a ennan.txt 
[root@localhost test]# lsattr ennan.txt 
---------------- ennan.txt
</code></pre><h3 id="æ©ç umask">æ©ç umask</h3>
<p><code>umask</code>ä¸ºç”¨æˆ·æ–‡ä»¶åˆ›å»ºæ©ç ï¼Œæ˜¯åˆ›å»ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ—¶é»˜è®¤æƒé™çš„åŸºç¡€ã€‚</p>
<p>åˆ›å»ºæ–‡ä»¶çš„é»˜è®¤æƒé™ä¸º<code>666-umask</code></p>
<p>åˆ›å»ºç›®å½•çš„é»˜è®¤æƒé™ä¸º<code>777-umask</code></p>
<p>é€šè¿‡<code>umask</code>å‘½ä»¤å¯æŸ¥çœ‹å½“å‰ç™»é™†ç”¨æˆ·çš„æ©ç ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# umask 
0022
</code></pre><p><code>Linux</code>åœ¨<code>/etc/bashrc</code>ä¸­å®šä¹‰äº†<code>umask</code>çš„å€¼</p>
<pre tabindex="0"><code>[root@localhost ~]# vim /etc/bashrc 
if [ $UID -gt 199 ] &amp;&amp; [ &#34;`/usr/bin/id -gn`&#34; = &#34;`/usr/bin/id -un`&#34; ]; then
   umask 002
else
   umask 022
fi
</code></pre><p>ç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡<code>umask</code>å‘½ä»¤ä¸´æ—¶è®¾ç½®<code>umask</code>çš„å€¼ã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# umask 002
[root@localhost ~]# umask 
0002
</code></pre><p>ç”¨æˆ·å®¶ç›®å½•çš„<code>umask</code>å¯ä»¥é€šè¿‡<code>/etc/login.defs</code>æŒ‡å®šã€‚</p>
<pre tabindex="0"><code>[root@localhost ~]# grep UMASK /etc/login.defs 
UMASK           077
[root@localhost ~]# ll /home/
total 0
drwx------. 3 ennan   ennan    95 Aug  8 04:24 ennan
drwx------. 2 test1  edu      62 Aug  7 14:39 test1
drwx------. 2 test2 edu      62 Aug  7 14:41 test2
</code></pre><p>å½“ç”¨æˆ·çš„<code>umask</code>ä¸º<code>045</code>çš„æ—¶å€™ï¼ˆå…¶ä»–ç”¨æˆ·ç»„ä½ä¸ºå¥‡æ•°ï¼‰</p>
<pre tabindex="0"><code>[root@localhost ~]# umask
0045
[root@localhost ~]# touch test
[root@localhost ~]# mkdir dir
[root@localhost ~]# ll
total 0
drwx-wx-w-. 2 root root 6 Aug  8 06:43 dir
# 777-045=032
-rw--w--w-. 1 root root 0 Aug  8 06:42 test
# 666-045=621ï¼Œè€Œåˆ›å»ºå‡ºæ¥çš„æ–‡ä»¶æƒé™æ˜¯622ï¼Œæ‰€ä»¥å½“umaskçš„å…¶ä»–ç”¨æˆ·ç»„ä½ä¸ºå¥‡æ•°æ—¶ï¼Œåœ¨å…¶ä»–ç”¨æˆ·ç»„ä½å†åŠ 1
</code></pre><p><code>umask</code>å€¼çš„æ‰€æœ‰ä½ä¸ºå¥‡æ•°æ—¶</p>
<pre tabindex="0"><code>[root@localhost ~]# umask 
0035
[root@localhost ~]# touch test
[root@localhost ~]# mkdir dir
[root@localhost ~]# ll
total 0
drwxr---w-. 2 root root 6 Aug  8 06:50 dir
# 777-035=742
-rw-r---w-. 1 root root 0 Aug  8 06:50 test
# 666-035=631ï¼Œè€Œåˆ›å»ºå‡ºæ¥çš„æ–‡ä»¶çš„æƒé™æ—¶642,æ‰€ä»¥å½“umaskçš„æ‰€æœ‰ä½ä¸ºå¥‡æ•°æ—¶ï¼Œåœ¨ä¸ºå¥‡æ•°çš„ä½å†åŠ 1
</code></pre>
    </div>

    

    

    
    
    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="" target="_blank">
        
        <span class="some">enter your icp or a interesting slogan...<span>
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
